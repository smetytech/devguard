from langchain_core.tools import tool
import subprocess
@tool
def install_nmap():
    """Installs nmap on the system."""
    subprocess.run(["sudo", "apt-get", "install", "-y", "nmap"], check=True)

@tool
def run_nmap_scan(target: str, params: str = ""):
    """Runs an nmap scan on the specified target with optional parameters.
    Args:
        target (str): The target to scan.
        params (str): Additional parameters to pass to nmap.
    """
    command = ["nmap"] + params.split() + [target]
    result = subprocess.run(command, capture_output=True, text=True)
    return result.stdout

pentest_tools = [install_nmap, run_nmap_scan]